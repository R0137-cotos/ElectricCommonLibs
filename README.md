# バージョン情報

バージョンを更新する場合は以下の表に追記してください。

| Ver | 修正内容 |
|---|---|
|1|ライブラリ化|
|2|契約エンティティ作成|
|3|契約エンティティに@CotosComplementTarget付与|
|4|契約(電力)リポジトリにメソッド追加、標準用・電力用の契約を持つDTO作成|
|5|NISHIKI関連エンティティ作成|
|6|ymlファイルからAPIのURLを取得するよう実装|
|7|見積エンティティの作成|
|8|電力用認証処理を作成|
|9|見積(電力)リポジトリにメソッド追加、標準用・電力用の契約を持つDTO作成｜
|10|外部データベース情報を取得する共通クラスを作成｜
|11|OneToManyに対してmappedBy付与｜
|12|NISHIKIエンティティにJsonPropertyを付与｜
|13|NISHIKIエンティティのリレーション削除｜
|14|NISHIKI料金計算結果 金額項目の型変更｜
|15|NISHIKI料金計算結果 定義変更｜
|16|NISHIKI料金計算結果 数値項目変更｜
|17|マスタテーブル追加、その他テーブルに項目追加|
|18|販売店マスタ追加|
|20|電力用のMoM権限判定処理を追加、見積(電力)エンティティにお客様識別番号追加|
|21|見積・契約用の登録・更新用のDTOを作成（集約するクラスのみ）|
|22|CO2排出メニュー追加|
|23|@EntityListenersアノテーション追加|
|24|電力用承認ルート関連エンティティ削除|
|25|高圧契約締日カレンダーマスタエンティティ追加|
|26|重要事項説明者エンティティ追加|
|27|電力契約ライフサイクル状態追加|
|28|帳票マスタエンティティの追加|
|29|CO2排出メニューの型修正|
|30|帳票マスタエンティティの修正|
|31|解約種別に区分値追加|
|32|単価情報のリスナーメソッド修正|
|33|単価情報のリスナーメソッド追加修正|
|34|リスナーメソッドの@Autowired修正|
|35|リスナーメソッドにアノテーション付与|
|36|電力用メッセージファイル追加|
|37|電力用メッセージファイル修正|
|38|見積検索用パラメータークラス・結果クラスを作成|
|39|計量日の型変更|
|40|カレンダーマスタ計量日の型変更|
|41|DTO実装|
|42|判定条件Converter作成|
|43|テスト用スキーマ変更|
|44|DTO修正、リポジトリメソッド追加|
|45|検索パラメーター修正|
|46|契約検索パラメーター・結果クラスを作成|
|47|契約検索パラメーター・結果クラスを修正|
|48|CO2排出係数、SIM番号(主)、SIM番号(従)追加|
|49|メールアドレス、基本料金カラム追加、外部IF用DTO作成|
|50|外部IF用DTO作成 高圧プラン変更|
|51|外部IF用DT修正 契約情報作成(低圧)|
|52|電力専任情報（見積）Listener追加|
|53|請求書発送区分、メールアドレス区分のEnum修正|
|54|販売店情報DTO修正|
|55|検索結果用DTOを修正|
|56|検索パラメーターの型を修正|
|57|料金シミュレーション（営業用）削除|
|58|帳票名出力のためのDTO追加|
|59|外部IF用DTO不足項目追加|
|60|外部IF用DTOのDate型をString型に変更|
|61|帳票識別マスタエンティティの修正|
|62|DTOプロパティ名修正|
|63|販売店マスタ&媒介手数料マスタ追加|
|64|外部IF用(プラン変更用)DTO作成|
|65|電力専任情報リスナー修正|
|66|リスナークラス削除|
|67|UtilMethodsクラス作成|
|68|ElectricCheckUtilクラス作成|
|69|添付ファイルのJackson設定を修正|
|70|画面表示用の添付ファイル種別を追加|
|71|請求情報取得DTO追加|
|72|契約情報変更作成用のDTOを作成|
|73|請求情報取得用DTOに連番追加|
|74|見積情報更新用のDTOを作成|
|75|見積情報更新用のDTOに@NotNullアノテーション追加|
|76|見積・契約情報更新用の標準DTOから@Validアノテーション削除|
|77|帳票識別マスタに帳票テンプレート管理マスタIDを追加|
|78|初回供給開始日追加|
|79|プロパティに標準の帳票APIを追加|
|80|手配結果登録用DTO作成、MyRicohユーザーIDの型を修正|
|81|解約金関連メッセージプロパティ追加|
|82|契約変更申込帳票作成処理の区分値を作成|
|83|帳票コードで識別マスタを特定する処理を追加|
|84|お申込み内容低圧DTO修正|
|85|契約新規作成外部IF 契約単位追加|
|86|契約新規作成(低圧)DTOに現在の電力会社種別を追加|
|87|粗利振替先部門マスタ作成|
|88|見積新規作成用DTO作成|
|89|見積作成用DTO修正&拡張項目設定機能追加|
|90|見積検索結果DTO修正|
|91|見積検索結果DTO修正 見積番号枝番削除|
|92|契約検索結果パラメータ修正|
|93|販売店エンティティ修正|
|94|NISHIKI関連エンティティ追加、修正|
|95|契約外部IF用DTO修正|
|96|認可用DTO作成、各ドメインUpateParameter修正|
|97|承認用の認可判定処理を追加|
|98|販売店エンティティにJsonProperty設定追加|
|99|販売店エンティティにJsonProperty設定修正|
|100|外部システムの画面表示用ユーザー権限をグローバルで利用できるよう修正|
|101|帳票用メッセージプロパティの追加|
|102|計器情報(高圧)エンティティのApiModelProperty,JsonPropertyを修正|
|103|請求情報関連エンティティ追加、修正|
|104|媒介手数料エンティティにJsonProperty設定追加|
|105|粗利振替先部門マスタのリポジトリメソッド追加|
|106|請求情報取得結果DTO修正|
|107|粗利振替先マスタをリストで取得できるように修正|
|108|料金計算結果エンティティに出力対象年月,求書出力フラグを追加|
|109|料金計算結果エンティティのNOTNULL制約を削除|
|110|請求実績エンティティに引落前連絡,MyRicoh送信を追加|
|111|契約の検索結果の各種ステータスの型を変更|
|112|見積の電力エリアをenum型に修正、供給開始予定日を月に修正|
|113|契約(電力用)、請求実績エンティティに項目追加|
|114|scaleのenumの値を修正|
|115|NISHIKI料金計算結果論理名修正|
|116|MoM権限取得用ヘッダー情報を追加|
|117|請求基本情報を契約取得DTOに追加|
|118|MoM権限取得可否のプロパティを追加|
|119|契約エンティティ 電力エリアの物理名変更|
|120|請求実績リポジトリに検索と更新を追加|
|121|契約(電力)添付ファイルに書類名称追加|
|122|回収方法の型変更|
|123|バッチ用のRest作成メソッドを追加|
|124|添付ファイルエンティティ削除|
|125|請求基本情報エンティティ修正|
|126|保存時に添付日時が更新されるように修正|
|127|請求実績エンティティに請求書作成区分を追加|
|128|書類名称がnullを許容するように修正|
|129|計上実績に請求データ作成年月カラムの追加|
|130|請求実績の未収区分に振込の区分を追加|
|131|請求検索・計上検索の検索結果用DTOを作成|
|132|検索結果用DTOにアノテーションを付与|
|133|検索結果をDTOをEntityとして登録|
|134|電力用ライフサイクル削除|
|135|手配結果登録DTOに契約IDを追加|
|136|認証時に使用するマスタをリポジトリ経由で取得するよう修正|
|137|ElectricMessages.propertiesに入力値不正のメッセージ追加|
|138|136の対応をロールバック|
|139|支払区分の定額を1、定率を2に修正|
|140|ファイルを標準側添付ファイルに保存するよう電力請求添付ファイルを変更|
|141|請求実績テーブルにメール送信を追加|
|142|パフォーマンス対応を再取込|
|143|140の対応をロールバック|
|144|ファイルダウンロード機能を追加|
|145|Stream作成時の例外処理を作成（テスト不可のため、未実施）|
|146|FFM計上エンティティ作成|
|147|見積の料金シミュレーション（本部用）リポジトリに検索メソッド追加|
|148|FFM計上エンティティ修正|
|149|FFM計上エンティティ修正によるテスト用insert文修正|
|150|Dtoの各項目が、対となるEntityの項目に存在することを確認|
|151|契約検索結果DTOに見積IDを挿入|
|152|都道府県コードのEnum追加|
|153|解約理由エンティティのEnum修正|
|154|請求基本情報に請求先分類追加|
|155|外部IF用投票クラスのための対応|
|156|標準CommomLibsを最新化|
|157|2.5対応|
|158|契約検索パラメータに契約形態と契約種別を追加|
|159|商流区分「社内」を「RJ社内供給用」に変更|
|160|見積情報作成用DTO修正|
|161|請求実績一覧情報DTO及び計上実績一覧情報DTOに項目を追加|
|162|2.5対応分DTO追加|
|163|契約(電力)DTOに項目を追加|
|164|DTOの取次手数料項目修正|
|165|FFM計上エンティティ修正|
|166|電力メール用各種エンティティ追加|
|167|電力通知メール制御マスタをもとに電力通知メール変換値マスタを取得できるように修正|
|168|請求実績テーブルに請求書様式を追加|
|169|電力通知メール制御マスタのNULL許容項目をラッパークラスに修正|
|170|見積情報作成(高圧)、契約プラン変更(高圧)パラメータ修正|
|171|お申込み内容(高圧)に取次系項目追加|
|172|不要なNotNullアノテーションの削除|
|173|外部IFパラメータの修正|
|174|割引単価項目の許容範囲修正及び契約期間の属性修正|
|175|契約情報検索条件の追加|
|176|高圧締め日カレンダー判定条件に取次協議性を追加|
|177|契約検索結果に電力メニューを追加|
|178|見積エンティティに承認ルート名追加|
|179|計上実績、請求実績リポジトリのメソッド追加・修正|
|180|請求先Mailアドレス情報.MyRicohユーザIDのNotNull制約を削除|
|181|お申込内容(高圧)に備考カラム追加|
|182|見積検索条件に商品名称、見積種別を追加|
|183|契約検索条件から仕入元拠点IDを削除|
|184|販売店マスタのJsonPropertyを追加、修正|
|185|請求実績更新用DTO作成|
|186|請求実績更新用DTO修正|
|187|外部IFパラメータ.重要項目説明者DtoのNotNull制約を削除|
|188|請求実績更新用DTO追加|
|189|計上実績のRJ・営業区・本部粗利金額にマイナス値を登録できるよう修正|
|190|契約作成低圧、契約プラン変更低圧の従量料金.定価、仕切価格の変数名修正|
|191|計上実績の売上金額・仕入合計料金、請求実績の請求金額、料金シミュレーションの粗利額マイナス値を登録できるよう修正|
|192|契約エンティティに承認ルート名追加|
|193|外部IFパラメータ.見積情報作成.見積(電力用).CO2排出メニューの型をEnumからStringに変更|
|194|外部IFパラメータ.見積情報作成.見積(電力用).規模の型をEnumからStringに変更|
|195|見積・契約詳細取得DTO調整|
|196|手配結果登録DTOの電力専任.MoM社員IDをmomEmpIdに修正|
|197|計上実績.契約(電力)IDのJsonIgnoreアノテーションを削除|
|198|見積一覧結果のstatusをworkflowStatusに修正|
|199|見積検索パラメータのstatusをworkflowStatusに修正|
|200|請求実績一覧取得用DTOに未収区分追加|
|201|契約情報取得APIの返りDTOの電力(契約)内のオブジェクトを外だし|
|202|料金シミュレーションの一部項目についてマイナス値を許容|
|203|得意先マスタ.請求先メールアドレスの変数名修正|
|204|FFM計上エンティティの数値項目がマイナスを許容するように修正|
|205|FFM計上エンティティの数値項目をプリミティブ型からラッパークラス型に変更|
|206|プラン変更高圧用DTOのCO2排出メニューをStringに修正|
|207|プラン変更高圧用DTOの規模をStringに修正|
|208|契約検索結果パラメータの見積番号をestimationNumberに修正|
|209|料金計算結果の課税対象税抜合計金額、税抜合計金額を小数点許容するように修正|
|210|検索結果返却用DTOの日付項目フォーマット修正|
|211|請求実績エンティティに電力区分カラムを追加|
|212|FFM計上エンティティの請求分割回数、今回の請求回数カラムをNULL許容に修正|
|213|請求書作成区分のコンバーターを実装|
|214|電力区分カラムの必須化|
|215|販売店マスタ及び媒介手数料マスタのJsonPropertyを修正|
|216|販売店マスタの日付項目にJsonFormatを追加|
|217|担当者・追加編集者と関連のない承認者も参照・編集できるよう修正|
|218|契約(標準)の日付項目のフォーマット修正|
|219|リポジトリに請求書用のリスト取得メソッドを追加|
|220|MyRicoh送信のコンバーターを実装|
|221|見積情報プラン変更作成API用のDtoを追加|
|222|解約日及び解約希望日にJsonFormatを追加|
|223|販売店情報に1shot支払済フラグのカラムを追加|
|224|販売店情報リポジトリに取得メソッドを追加|
|225|最大需要電力情報(高圧)リポジトリに取得メソッドを追加|
|226|電力用FFM計上のJsonProperty定義を追加|
|227|認証パフォーマンス改善対応|
|228|電力承認ルートマスタ追加|
|229|契約検索画面から検索条件.請求開始月を削除|
|230|消費税取得・計算Utilityの作成|
|231|前月調整対応のカラム追加|
|232|基本料金計算Utilityの作成|
|233|日割り率計算メソッドのスコープをpublicに変更|
|234|計上実績に日割り率計算用カラムを追加|
|235|計上実績の仕切合計料金／仕切消費税額のマイナス値を許容|
|236|基本料金計算の計算仕様変更|
|237|日割り率の循環小数を考慮（小数第10位を四捨五入）|
|238|代理承認者をだれでも設定可とする|
|239|締め日カレンダーのエラーメッセージ改善|
|240|前回承認者、前回代理承認者に編集権限を付与する|
|241|ファイル添付欄の実施日時を修正|
|242|承認ルートに設定されているユーザにはライフサイクル状態問わず参照権限を付与する|
|243|契約検索の電力会社、電力専任を前方一致に変更|
|244|計上実績に販売店電力料金カラムを追加|
|245|請求書発送区分を追加|
|246|請求基本情報. メール配信を追加|
|247|ファイル添付欄の実施日時を自動設定しないよう修正|
|248|解約希望日のタイムゾーンずれを修正|
|249|重複エラーメッセージの追加|
|250|解約手続きエラーメッセージの追加|
|251|承認ルート特定不可時のメッセージ変更|
|252|Dentos_CommonLibsを参照するように変更|
|253|403エラーのメッセージを日本語化|
|254|403エラーのメッセージを戻し|
|255|認可判定ユーザがRJ社員マスタに存在しない場合判定から除外するよう修正|
|256|契約作成(低圧)及びプラン変更(低圧)時に契約担当・請求担当メールアドレスリストが最低1件ないとエラーとするように修正|